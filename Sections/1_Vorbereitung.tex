\subsection{Begriffserklärung Zwischensystem und Endsystem}

    Ein \textbf{Endsystem} oder Endgerät ist ein Computer oder ein anderes Peripheriegerät, an welchem keine weiteren Geräte angeschlossen sind. \\
    Beispiele für Endsysteme sind:
    \begin{itemize}
        \item Drucker
        \item Geldautomat
        \item Surfstation
        \item Lautsprecher
        \item Kamera
    \end{itemize}
    \vspace{0cm}
    Außerdem muss es \textbf{Zwischensysteme} geben, die gesendete Datenpakete an die richtige Adresse weiterleiten. \\
    Solche Zwischensysteme sind Switches, Bridges und Router. 


\subsection{Nutzen der Protokollschichten des Osi-Modells}

    Das OSI Modell ist ein Modell, welches die Ebenen die ein Netzwerk ausmachen beschreibt.

    \input{Tabellen/OSI_Modell}

    \begin{figure}[H]
        \centering
        \includegraphics[width=0.7\textwidth]{vorbereitung/Osi.png}
        \source{Osi Modell}{https://www.der-wirtschaftsingenieur.de/bilder/it/OSI-Modell3.PNG}{3.1.2020 14:30}
    \end{figure}
    \vspace{0cm}
    \textbf{Repeater}
    \\
    Ein Repeater verstärkt ganz simpel die elektronischen Signale und nutzt deswegen nur die 1. Schicht des OSI-Models. Der in der Abbildung unterhalb veranschaulichte HUB (Multi-Port-Repeater) sendet ein von PC0 gesendetes Paket an alle anderen PC’s weiter, da er keine Möglichkeit hat, an ein bestimmtes Gerät zu senden, da er keine MAC-Adressen speichert. Er teilt keine Broadcastdomäne.\\

    \begin{figure}[H]
        \centering
        \includegraphics[width=0.7\textwidth]{vorbereitung/ping_hub.png}
        \source{Ping über einen Hub}{https://www.tinohempel.de/info/info/netze/osi.htm}{8.1.2020 13:00}
    \end{figure}
    \vspace{0cm}
    \textbf{Bridge}
    \\
    Eine Bridge verbindet mehrere über Kabel verbundene Netzwerke / PCs miteinander, sodass sie ein einzelnes Netz repräsentieren. In Bezug auf das OSI Modell werden über die erste Schicht Signale versandt und über die zweite Schicht werden die Signale einem Zielort via einer Link-Layer-Address zugeordnet. In der folgenden Abbildung sieht man einen Switch (Multi-Port-Bridge), welcher die von PC0 gesendeten Pakete anhand der MAC-Adresse, aus dem entsprechenden Port, an PC2 weiterleitet. \\

    \begin{figure}[H]
        \centering
        \includegraphics[width=0.7\textwidth]{vorbereitung/ping_bridge.png}
        \source{Ping über einen Switch}{https://www.tinohempel.de/info/info/netze/osi.htm}{8.1.2020 13:00}
    \end{figure}
    \vspace{0cm}
    \textbf{Router}
    \\
    Ein Router verbindet mehrere Netzwerke miteinander. Anhand von Routing-Tabellen (statisch oder dynamisch) leitet er die Datenpakete in die entsprechende Netze oder über ein Default-Gateway weiter. Die Routing-Entscheidungen geschehen aufgrund von IP-Adressen (OSI-Layer 3) und ggf. weiteren Parametern z.B. anhand der Pfadkosten beim OSPF-Protokoll. PC0 sendet das Datenpaket an Router1 mit seiner IP-Adresse als Quelladresse und der Zieladresse (PC2). Der Router kennt das Zielnetz, da es direkt angeschlossen ist und sendet es an PC2 weiter.\\

    \begin{figure}[H]
        \centering
        \includegraphics[width=0.7\textwidth]{vorbereitung/ping_router.png}
        \source{Ping über einen Router}{https://www.tinohempel.de/info/info/netze/osi.htm}{8.1.2020 13:00}
    \end{figure}
    \vspace{0cm}
    \textbf{Gateway}
    \\
    Ein Gateway ist ein computer-ähnliches Gerät, welches eine Kommunikation zwischen zwei oder mehr unterschiedlichen Systemen herstellt. Ein Gateway kann Software oder Hardware sein. Um mit verschiedenen Arten von Netzwerken zu kommunizieren, muss der Netzwerk Gateway auf mehreren Schichten des OSI Modells operieren, unter Umständen auch auf allen 7, da er zum Beispiel Sessions erstellen und verwalten muss, Daten entschlüsseln und unterschiedliche physikalische und logische Adressen übersetzen muss. Wegen der vielen Aufgaben die ein Gateway gleichzeitig erledigen muss ist er um einiges langsamer, als die anderen oben genannten Geräte. Der Gateway, der in der Aufgabenstellung dargestellt wird greift auf alle 7 Layer zu und muss deswegen eine Software auf einem Computer sein, auf die ein Benutzer via einer Oberfläche zugreifen kann.\\

\subsection{Einordnung von Switch und Layer-3-Switch in Abbildung}

    \textbf{Switch}
    \\
    Ein Layer-2-Switch arbeitet mit Data-Link Layer-Adressen (MAC). Er benutzt also nur die Bitübertragungsschicht und die Sicherungsschicht. Er sendet die Daten weiter an einen fest angegebenen Punkt anhand der MAC-Adressen. \\
    Er ist als Äquivalent zur Bridge zu sehen. Denn er ist im Prinzip eine Multi-Port-Bridge und im Gegensatz zum HUB, erzeugt er keinen unnötigen Traffic, da nur an ein bestimmtes Ziel und nicht an alle gesendet wird (durch MAC-Adressen-Tabelle).\\
    \\
    \textbf{Layer-3-Switch}
    \\
    Ein Layer-3-Switch ist ein Switch, welcher um die Routing-Funktionen erweitert wurde und sonst alle Funktionen von einem Layer-2-Switch beibehält. Deshalb ist er mit dem Router aus Abbildung 1 gleichzusetzen. Durch die Erweiterung auf Layer 3 unterstützen diese Switches auch Inter-VLAN-Routings. Erweiterte Funktionen, wie NAT, IPSec oder Firewall-Filtering werden allerdings nicht unterstützt.



\subsection{Zweck und Header-Aufbau von ICMP, Nutzung des Protokolls in der Konsole unterschiedlicher Betriebssysteme}
    Das ICMP (Internet Control Message Protocol) tauscht Informations- und Fehlermeldungen über IPv4 in Rechnernetzen aus. Das Äquivalent in IPv6 heißt ICMPv6.\\
    Für jeden Rechner und Router ist es Standard, dass sie ICMP verstehen.\\
    ICMP Pakete dienen dazu Diagnose Informationen zurück an die Quelle zu senden, wenn der Router Pakete verwirft. Beispielsweise, wenn das Ziel nicht erreichbar ist oder die TTL abgelaufen ist.\\
    So wird zum Beispiel mit dem Befehl “ping” ein Test Datenpaket über das ICMP Protokoll gesendet.\\
    \begin{itemize}
        \item Zweck, Headeraufbau
        \item Nutzung in der Konsole unterschiedlicher Betriebssysteme
    \end{itemize}

    Der Befehl ping ist unter den meisten Betriebssystemen wie Windows, Linux (und anderen Unixartigen), Unix oder macOS, aber auch als Analysetool auf Geräten wie Routern nutzbar. Die Ausführung des Befehls und somit die Aussendung der ICMP Pakete unterscheiden sich jedoch je nach Betriebssystem, so sendet Windows eine begrenzte Anzahl an Paketen während Linux eine unbegrenzte Anzahl sendet und nur manuell abgebrochen werden kann.\\

    \begin{figure}[H]
        \centering
        \includegraphics[width=0.5\textwidth]{vorbereitung/IPv4_IPv6_Datagramm.png}
        \source{IMCP Aufbau}{https://en.wikipedia.org/wiki/Ping\_\(networking\_utility\)\#ICMP\_packet}{2.1.2020 15:00}
    \end{figure}




\subsection{Peer-2-Peer Netzwerk entsprechend DFÜ-Modell}

    DDE bezeichnet die Datenendeinrichtung und stellt den Sender oder den Empfänger dar. Sie kontrolliert und steuert die Datenfernübertragung.\\
    DÜE bezeichnet die Datenübertragungseinrichtung. Sie ist die Verbindung zwischen den DDE’s und dem Netzwerk und wandelt die Daten in eine geeignete Form für die Übertragung um.\\
    Zwischen DDE und DÜE befindet sich eine serielle Schnittstelle (V.24, RS232), ein USB Kabel oder eine Funkverbindung wie Bluetooth.\\

    \begin{figure}[H]
        \centering
        \includegraphics[width=0.5\textwidth]{vorbereitung/DFUE.png}
        \source{DFÜ Modell}{eigene Zusammenstellung}{}
    \end{figure}
\subsection{Skizze des Protokollstapels}

    \begin{figure}[H]
        \centering
        \includegraphics[width=0.5\textwidth]{vorbereitung/Protokollstapel.png}
        \source{Skizze eines Protokollstapels eines HTTP Requests}{eigene Zusammenstellung}{}
    \end{figure}

\subsection{Headerstruktur für HTTP, TCP, IPv4, IPv6 und Ethernet}

    \textbf{Http Response Header}
    \\
    Übergeben zusätzliche Informationen über die Antwort, die nicht in die Status Line passen. Sie Enthalten Informationen über den Server und weitere Zugänge zu der Quelle. Diese sind durch die Request-URI gekennzeichnet.\\

    \begin{figure}[H]
        \centering
        \includegraphics[width=0.5\textwidth]{vorbereitung/http_response_header.png}
        \source{HTTP Response Header}{http://www.coder-welten.de/glossar/request-und-response-18.html}{07.01.2020 15:00}
    \end{figure}

    \textbf{HTTP Request Header}
    \\
    Geben zusätzliche Informationen über den Request mit, wie über den Client selbst, zum Server. \\
    \begin{figure}[H]
        \centering
        \includegraphics[width=0.5\textwidth]{vorbereitung/http_request_header.png}
        \source{HTTP Request Header}{http://www.coder-welten.de/glossar/request-und-response-18.html}{07.01.2020 15:00}
    \end{figure}

    \textbf{TCP Header}
    \\
    Dieser Header enthält die zur Kommunikation erforderlichen Daten und Dateiformat-beschreibende Informationen. Normalerweise sind TCP Header 20 Bytes lang, können aber mit den kaum genutzen Optionen erweitert werden.\\

    \begin{figure}[H]
        \centering
        \includegraphics[width=0.5\textwidth]{vorbereitung/TCP_Header.png}
        \source{TCP Header}{https://upload.wikimedia.org/wikipedia/commons/thumb/f/fd/TCP\_Header.svg/1024px-TCP\_Header.svg.png}{2.1.2020 14:00}
    \end{figure}

    \textbf{IPv4 Header}
    \\
    Die Länge von IPv4 Header ist normalerweise 20 Bytes, kann aber mit bestimmten Optionen auf bis 60 Bytes erweitert werden.\\

    \begin{figure}[H]
        \centering
        \includegraphics[width=0.5\textwidth]{vorbereitung/IPv4_Header.png}
        \source{IPv4 Header}{https://de.wikipedia.org/wiki/IPv4\#Header-Format}{2.1.2020 14:30}
    \end{figure}

    \textbf{IPv6 Header}
    \\
    Hat eine feste Länge von 40 Bytes. Optionale selten genutzte Daten können in Extension Headern zwischen Header und Payload gesendet werden.\\

    \begin{figure}[H]
        \centering
        \includegraphics[width=0.5\textwidth]{vorbereitung/IPv6_Header.png}
        \source{IPv6 Header}{https://upload.wikimedia.org/wikipedia/commons/thumb/c/cd/IPv6\_Header.svg/1280px-IPv6\_Header.svg.png}{2.1.2020 14:45}
    \end{figure}

    \textbf{Ethernet}
    \\
    Enthält die Zieladresse (6 Bytes), Quell-MAC-Adresse (6 Bytes), das EtherType field (2 Bytes) und optional einen IEEE 802.1Q tag oder einen IEEE 802.1ad tag (4 Bytes).

\subsection{Analyse von Anweisungen für das Protokoll IPv6}
    \include{Tabellen/Anweisungen}